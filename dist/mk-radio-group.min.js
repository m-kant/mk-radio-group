"use strict";window.mkRadioGroup=function(e,t){if("string"==typeof e&&(e=document.querySelector(e)),!e)throw new Error("No input element given for mkRadioGroup");if("INPUT"!==e.nodeName)throw new Error("Given element for mkRadioGroup is not INPUT");this.options=Object.assign({},window.mkRadioGroup.defaults,t),this.input=e,this.input.type="hidden",this["enum"]=this._getEnum(),this.options.value?this.setval(this.options.value):this.value=this.input.value;var i="mk-radio-group";this.options["class"]&&(i+=" "+this.options["class"]),this.options.stacked&&(i+=" mk-radio-group_stacked"),this.face=this._el("ul",{"class":i}),this.render(),this.input.parentNode.insertBefore(this.face,this.input)},mkRadioGroup.defaults={"enum":null,value:null,"class":null,stacked:!1,oninput:null},mkRadioGroup.prototype={normalizeEnum:function(e){return e.map(function(e){return{name:e.name||e,value:e.value||e}})},_getEnum:function(){var e=[];return this.options["enum"]?e=this.options["enum"]:this.input.dataset["enum"]&&(e=JSON.parse(this.input.dataset["enum"])),this.normalizeEnum(e)},_fireInput:function(e){var t=new InputEvent("input",{bubbles:!0});this.input.dispatchEvent(t)},render:function(){var e=this,t=this;return this["enum"].forEach(function(i){var n=i.value===t.value,a=e._el("li",{"class":"mk-radio-group_item"+(i.value===t.value?" active":""),radioSelectValue:i.value}),s=a.appendChild(e._el("a",{onclick:function(){t.setval(i.value,!0)}})),o=s.appendChild(e._el("b",{"class":"mk-radio-group_box"}));o.appendChild(e._el("b",{"class":"mk-radio-group_tick"})),s.appendChild(e._el("span",{"class":"mk-radio-group_name",html:i.name})),t.face.appendChild(a),n&&setTimeout(function(){return a.scrollIntoView()},0)}),t.face},setval:function(e,t){var i=this;return this.value=e,this.input.value=e,this._fireInput(),this.options.oninput&&this.options.oninput.call(this,this.value),this.face?(this.eachOpt(function(n){var a=n.radioSelectValue||n.getAttribute("radioSelectValue");a==e?(i._addClass(n,"active"),t||setTimeout(function(){return n.scrollIntoView()},0)):i._removeClass(n,"active")}),e):e},eachOpt:function(e){[].forEach.call(this.face.querySelectorAll(".mk-radio-group_item"),e)},_el:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=document.createElement(e);return Object.keys(t).forEach(function(e){var n=t[e];"html"===e?i.innerHTML=n:"string"==typeof n?i.setAttribute(e,n):i[e]=n}),i},_addClass:function(e,t){var i=new RegExp("(^|\\s)"+t+"(\\s|$)","g");i.test(e.className)||(e.className=(e.className+" "+t).replace(/\s+/g," ").replace(/(^ | $)/g,""))},_removeClass:function(e,t){var i=new RegExp("(^|\\s)"+t+"(\\s|$)","g");e.className=e.className.replace(i,"$1").replace(/\s+/g," ").replace(/(^ | $)/g,"")}};